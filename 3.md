# 3. DecisÃµes Arquiteturais e Trade-offs

## ğŸ§  O que sÃ£o decisÃµes arquiteturais?

Durante o projeto de um sistema, diversas decisÃµes precisam ser tomadas para estruturar sua arquitetura. Essas sÃ£o chamadas de **decisÃµes arquiteturais**, e envolvem escolhas que afetam a organizaÃ§Ã£o e a qualidade do sistema de forma significativa e de longo prazo.

Exemplos:

- Qual estilo arquitetural adotar? (Monolito, MicroserviÃ§os, etc.)
- Que tipo de persistÃªncia usar? (SQL vs. NoSQL)
- Como serÃ¡ feito o balanceamento de carga?
- A comunicaÃ§Ã£o serÃ¡ sÃ­ncrona ou assÃ­ncrona?

---

## âš–ï¸ O que sÃ£o trade-offs?

Cada decisÃ£o arquitetural envolve **compensaÃ§Ãµes (trade-offs)**: ao otimizar um atributo de qualidade, outro pode ser prejudicado.

| DecisÃ£o                          | Trade-off PossÃ­vel                            |
| -------------------------------- | --------------------------------------------- |
| MicroserviÃ§os                    | +Escalabilidade, -Complexidade de implantaÃ§Ã£o |
| Banco NoSQL                      | +Performance em leitura, -ConsistÃªncia forte  |
| ComunicaÃ§Ã£o assÃ­ncrona           | +Desempenho, -Dificuldade de rastreabilidade  |
| Armazenamento local vs. na nuvem | +Desempenho local, -Disponibilidade global    |

---

## ğŸ“ Registrando decisÃµes: ADR (Architectural Decision Record)

Um **ADR (Architectural Decision Record)** Ã© um documento simples que registra uma decisÃ£o arquitetural tomada, incluindo:

- **TÃ­tulo da decisÃ£o**
- **Contexto** (por que essa decisÃ£o precisou ser feita)
- **DecisÃ£o** (o que foi decidido e por quÃª)
- **ConsequÃªncias** (impactos e trade-offs)

### ğŸ“„ Exemplo de ADR

```
# ADR 001 - Utilizar banco de dados relacional (PostgreSQL)

## Contexto
Precisamos armazenar dados estruturados com forte consistÃªncia transacional.

## DecisÃ£o
Adotaremos PostgreSQL como banco relacional por ser robusto, open source e com suporte a consultas complexas.

## ConsequÃªncias
+ FÃ¡cil modelagem de dados relacionais
+ ConsistÃªncia garantida por ACID
- Menor performance para leitura massiva em grandes volumes
```

> ADRs ajudam a manter o histÃ³rico das decisÃµes e sÃ£o Ãºteis para comunicaÃ§Ã£o e manutenÃ§Ã£o.

<p align="center">
    <img src="images/adr.png" alt="capa" width="600"/>
</p>

---

## ğŸ“š Boas prÃ¡ticas

- Tome decisÃµes **baseadas em requisitos de negÃ³cio e qualidade**.
- Considere sempre os **impactos de longo prazo**.
- Documente as decisÃµes para que nÃ£o se percam no tempo.
- Reavalie decisÃµes antigas conforme o sistema evolui.

---

## ğŸ“š ReferÃªncias

- ThoughtWorks: _Documenting Architecture Decisions_ (Michael Nygard)
- Bass, L., Clements, P., & Kazman, R. (2012). _Software Architecture in Practice_
- Rozanski, N. & Woods, E. (2011). _Software Systems Architecture_
